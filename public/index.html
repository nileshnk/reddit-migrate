<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Migration Options</title>
    <!-- Include Tailwind CSS via CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <!-- Include the Flowbite library's CSS and JS: -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.css" rel="stylesheet" />
    <style>
        #parsedTokenBox::selection {
            background-color: transparent;
        }
    </style>
</head>

<body class="bg-gray-100 font-sans">
    <div class="container mx-auto flex min-h-screen flex-col items-center py-8">
        <!-- Reddit Logo -->
        <img src="assets/reddit-logo.svg" alt="Reddit Logo" class="mb-4 h-16 w-16" />

        <div class="w-full max-w-xl rounded-lg bg-white p-8 shadow-md">
            <!-- Reddit-Styled Header -->
            <h1 class="mb-6 text-3xl font-semibold text-red-500">Reddit Data Migration</h1>

            <!-- Old Account Access Token Field -->
            <div class="mb-4">
                <label for="oldAccessToken" class="mb-2 block font-bold text-gray-700">Old Account Access Token:</label>
                <div class="flex items-center">
                    <input type="text" id="oldAccessToken" name="oldAccessToken"
                        class="bg-white-200 block w-full rounded border border-gray-300 px-4 py-2 text-sm text-gray-500 focus:border-orange-500 focus:outline-none" />
                    <button class="ml-2 rounded bg-red-500 px-4 py-2 text-white hover:bg-orange-600 focus:outline-none"
                        id="oldTokenVerifyBtn">Verify</button>
                </div>
                <p class="mt-2 text-sm text-green-600 dark:text-green-500 hidden" id="oldTokenVerifySuccessMessage">
                    <span class="font-medium">Token
                        Verified ✓
                    </span><span>User Name: </span> <span id="oldAccountUserId"></span>
                </p>
                <p class="mt-2 text-sm text-red-600 dark:text-red-500 hidden" id="oldTokenVerifyFailMessage"><span
                        class="font-medium">Oh,
                        snapp!</span> Token
                    Invalid ✘</p>
            </div>

            <!-- New Account Access Token Field -->
            <div class="mb-4">
                <label for="newAccessToken" class="mb-2 block font-bold text-gray-700">New Account Access Token:</label>
                <div class="flex items-center">
                    <input type="text" id="newAccessToken" name="newAccessToken"
                        class="bg-white-100 w-full rounded border border-gray-300 px-4 py-2 text-sm text-gray-500 focus:border-orange-500 focus:outline-none" />
                    <button class="ml-2 rounded bg-red-500 px-4 py-2 text-white hover:bg-orange-600 focus:outline-none "
                        id="newTokenVerifyBtn">Verify</button>
                </div>
                <p class="mt-2 text-sm text-green-600 dark:text-green-500 hidden" id="newTokenVerifySuccessMessage">
                    <span class="font-medium">Token
                        Verified ✓
                    </span><span>User Name: </span> <span id="newAccountUserId"></span>
                </p>
                <p class="mt-2 text-sm text-red-600 dark:text-red-500 hidden" id="newTokenVerifyFailMessage"><span
                        class="font-medium">Oh,
                        snapp!</span> Token
                    Invalid ✘</p>
            </div>

            <div class="flex flex-col items-center mb-4">
                <span class="flex items-center">
                    <p class="text-sm">Have cookie?</p>
                    <button data-modal-target="cookie-parse-modal" data-modal-toggle="cookie-parse-modal"
                        class="ml-2 rounded bg-red-500 px-2 py-1 text-sm text-white hover:bg-orange-600 focus:outline-none"
                        id="oldTokenVerifyBtn">Parse</button>
                </span>
            </div>

            <!-- Cookie parser modal -->
            <div id="cookie-parse-modal" tabindex="-1" aria-hidden="true"
                class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
                <div class="relative w-full max-w-md max-h-full">
                    <!-- Modal content -->
                    <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                        <button type="button"
                            class="absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
                            data-modal-hide="cookie-parse-modal">
                            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 14 14">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                            </svg>
                            <span class="sr-only">Close modal</span>
                        </button>
                        <div class="px-6 py-6 lg:px-8 flex flex-col items-center">
                            <h3 class="mb-4 text-xl font-medium text-gray-900 dark:text-white">Paste your cookie
                                here</h3>
                            </h3>


                            <textarea id="cookie-input" rows="4"
                                class="block p-2.5 w-full text-xs text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                placeholder="Cookie Please..."></textarea>
                            <button
                                class="ml-2 mt-3 rounded bg-red-500 px-2 py-1 text-sm text-white hover:bg-orange-600 focus:outline-none"
                                id="cookie-parse-submit">Parse</button>
                            <p class="mt-2 text-sm text-green-600 dark:text-green-500 hidden"
                                id="cookie-parse-success-message">
                                <span class="font-medium">
                                    Success ✓
                            </p>
                            <p class="mt-2 text-sm text-red-600 dark:text-red-500 hidden"
                                id="cookie-parse-fail-message"><span class="font-medium">Oh,
                                    snapp!</span> Cookie
                                Invalid ✘</p>
                            <textarea id="parsedTokenBox" rows="4"
                                class="block mt-6 p-2.5 select-text w-full text-xs text-gray-400 bg-gray-200 rounded-lg border border-gray-300 focus:ring-0 focus:border-green-600 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                placeholder="parsed token" readonly> token </textarea>
                            <button id="copy-button"
                                class="w-auto ml-2 mt-3 rounded bg-red-500 px-2 py-1 text-sm text-white hover:bg-orange-600 focus:outline-none"
                                data-clipboard-target="#parsedTokenBox">
                                Copy
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reddit-Styled Data Migration Options -->
            <div class="mb-6" id="subreddit-options">
                <label class="mb-2 block font-bold text-gray-700">Migrate All Subreddits:</label>
                <div class="flex items-center">
                    <input type="radio" id="migrateSubredditYes" name="migrateSubreddit" value="yes" class="mr-2"
                        onclick="toggleDeleteSubreddits(true)" />
                    <label for="migrateSubredditYes" class="mr-4 text-gray-700">Yes</label>
                    <input type="radio" id="migrateSubredditNo" name="migrateSubreddit" value="no" class="mr-2"
                        onclick="toggleDeleteSubreddits(false)" />
                    <label for="migrateSubredditNo" class="text-gray-700">No</label>
                </div>

                <!-- Sub-Radio Buttons for Subreddits -->
                <div id="deleteSubreddits" class="mt-2">
                    <label class="mb-2 block text-sm font-bold text-gray-700">Delete Old Account Subreddits:</label>
                    <div class="flex items-center">
                        <input type="radio" id="deleteSubredditsYes" name="deleteSubreddits" value="yes"
                            class="mr-2 text-sm" />
                        <label for="deleteSubredditsYes" class="mr-4 text-sm text-gray-700">Yes</label>
                        <input type="radio" id="deleteSubredditsNo" name="deleteSubreddits" value="no"
                            class="mr-2 text-sm" />
                        <label for="deleteSubredditsNo" class="text-sm text-gray-700">No</label>
                    </div>
                </div>
            </div>

            <!-- Reddit-Styled Post Migration Options -->
            <div class="mb-6" id="saved-posts-options">
                <label class="mb-2 block font-bold text-gray-700">Migrate All Saved Posts:</label>
                <div class="flex items-center">
                    <input type="radio" id="migrateSavedPostsYes" name="migratePost" value="yes" class="mr-2"
                        onclick="toggleDeletePosts(true)" />
                    <label for="migrateSavedPostsYes" class="mr-4 text-gray-700">Yes</label>
                    <input type="radio" id="migrateSavedPostsNo" name="migratePost" value="no" class="mr-2"
                        onclick="toggleDeletePosts(false)" />
                    <label for="migrateSavedPostsNo" class="text-gray-700">No</label>
                </div>

                <!-- Sub-Radio Buttons for Posts -->
                <div class="mt-2" id="deletePosts">
                    <label class="mb-2 block text-sm font-bold text-gray-700">Delete Old Account Saved Posts:</label>
                    <div class="flex items-center">
                        <input type="radio" id="deleteSavedPostsYes" name="deletePosts" value="yes"
                            class="mr-2 text-sm" />
                        <label for="deleteSavedPostsYes" class="mr-4 text-sm text-gray-700">Yes</label>
                        <input type="radio" id="deletePostsNo" name="deletePosts" value="no" class="mr-2 text-sm" />
                        <label for="deletePostsNo" class="text-sm text-gray-700">No</label>
                    </div>
                </div>
            </div>

            <!-- Reddit-Styled Submit Button -->
            <button class="rounded bg-red-500 px-4 py-2 text-white hover:bg-orange-600 focus:outline-none"
                id="option-submit">Submit</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-blue-100 py-4 text-center text-gray-600">
        <div class="mb-2 flex items-center justify-center text-blue-500">
            <span class="mr-2 text-red-400"> For Fellow Redditors </span>
            <img src="assets/reddit-logo.svg" alt="Reddit Logo" class="mr-2 h-5 w-5" />
        </div>

        <a href="https://github.com/nileshnk/reddit-migrate" class="text-black-200 flex items-center justify-center">
            <img src="assets/github-logo.svg" alt="GitHub Logo" class="mr-2 h-5 w-5" />
            <span>GitHub</span>
        </a>
    </footer>

    <script>
        function toggleDeleteSubreddits(show) {
            const deleteSubredditsDiv = document.getElementById('deleteSubreddits');
            deleteSubredditsDiv.style.display = show ? 'block' : 'none';
        }

        function toggleDeletePosts(show) {
            const deletePostsDiv = document.getElementById('deletePosts');
            deletePostsDiv.style.display = show ? 'block' : 'none';
        }
    </script>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
<script>
    new ClipboardJS('#copy-button');
</script>
<script src="index.js"></script>

</html>